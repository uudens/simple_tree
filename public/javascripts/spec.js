(function(){"use strict";var e=typeof window!="undefined"?window:global;if(typeof e.require=="function")return;var t={},n={},r=function(e,t){return{}.hasOwnProperty.call(e,t)},i=function(e,t){var n=[],r,i;/^\.\.?(\/|$)/.test(t)?r=[e,t].join("/").split("/"):r=t.split("/");for(var s=0,o=r.length;s<o;s++)i=r[s],i===".."?n.pop():i!=="."&&i!==""&&n.push(i);return n.join("/")},s=function(e){return e.split("/").slice(0,-1).join("/")},o=function(t){return function(n){var r=s(t),o=i(r,n);return e.require(o,t)}},u=function(e,t){var r={id:e,exports:{}};return n[e]=r,t(r.exports,o(e),r),r.exports},a=function(e,s){var o=i(e,".");s==null&&(s="/");if(r(n,o))return n[o].exports;if(r(t,o))return u(o,t[o]);var a=i(o,"./index");if(r(n,a))return n[a].exports;if(r(t,a))return u(a,t[a]);throw new Error('Cannot find module "'+e+'" from '+'"'+s+'"')},f=function(e,n){if(typeof e=="object")for(var i in e)r(e,i)&&(t[i]=e[i]);else t[e]=n},l=function(){var e=[];for(var n in t)r(t,n)&&e.push(n);return e};e.require=a,e.require.define=f,e.require.register=f,e.require.list=l,e.require.brunch=!0})(),require.register("spec/tree",function(e,t,n){var r;r=t("../entities/tree"),describe("Tree",function(){return beforeEach(function(){return this._data={isRecursive:!0,children:[{label:"topLevel1"},{label:"topLevel2",children:[{label:"2ndLevel1"}]}]}}),describe("#parse",function(){return describe("when isRecursive: true",function(){return it("should call #getChildCollectionRecursively",function(){var e;return e=new r,spyOn(e,"getChildCollectionRecursively"),e.set(e.parse(this._data)),expect(e.getChildCollectionRecursively).toHaveBeenCalled()}),it("should not call #getChildCollectionIteratively",function(){var e;return e=new r,spyOn(e,"getChildCollectionIteratively"),e.set(e.parse(this._data)),expect(e.getChildCollectionIteratively).not.toHaveBeenCalled()})}),describe("when isRecursive: false",function(){return beforeEach(function(){return this._data.isRecursive=!1}),it("should not call #getChildCollectionRecursively",function(){var e;return e=new r,spyOn(e,"getChildCollectionRecursively"),e.set(e.parse(this._data)),expect(e.getChildCollectionRecursively).not.toHaveBeenCalled()}),it("should call #getChildCollectionIteratively",function(){var e;return e=new r,spyOn(e,"getChildCollectionIteratively"),e.set(e.parse(this._data)),expect(e.getChildCollectionIteratively).toHaveBeenCalled()})})}),describe("#getChildCollectionRecursively",function(){return it("should be recursive (call itself)",function(){var e,t;return t=new r,spyOn(t,"getChildCollectionRecursively").and.callThrough(),e=t.getChildCollectionRecursively(this._data.children),expect(t.getChildCollectionRecursively.calls.count()).toBeGreaterThan(1)}),it("should generate nested child collections and models",function(){var e,t;return t=new r,e=t.getChildCollectionRecursively(this._data.children),expect(e instanceof Backbone.Collection).toBe(!0),expect(e.at(1)instanceof Backbone.Model).toBe(!0),expect(e.at(1).get("children")instanceof Backbone.Collection).toBe(!0)}),it("should populate models with data from JSON",function(){var e,t;return t=new r,e=t.getChildCollectionRecursively(this._data.children),expect(e.at(0).get("label")).toBe("topLevel1"),expect(e.at(1).get("label")).toBe("topLevel2"),expect(e.at(1).get("children").at(0).get("label")).toBe("2ndLevel1")})}),describe("#getChildCollectionIteratively",function(){return it("should not be recursive (not call itself)",function(){var e,t;return t=new r,spyOn(t,"getChildCollectionIteratively").and.callThrough(),e=t.getChildCollectionIteratively(this._data.children),expect(t.getChildCollectionIteratively.calls.count()).toBe(1)}),it("should generate nested child collections and models",function(){var e,t;return t=new r,e=t.getChildCollectionIteratively(this._data.children),expect(e instanceof Backbone.Collection).toBe(!0),expect(e.at(1)instanceof Backbone.Model).toBe(!0),expect(e.at(1).get("children")instanceof Backbone.Collection).toBe(!0)}),it("should populate models with data from JSON",function(){var e,t;return t=new r,e=t.getChildCollectionIteratively(this._data.children),expect(e.at(0).get("label")).toBe("topLevel1"),expect(e.at(1).get("label")).toBe("topLevel2"),expect(e.at(1).get("children").at(0).get("label")).toBe("2ndLevel1")})}),describe("#loadDefault",function(){return it("should GET data/tree",function(){var e,t;return t=new r,spyOn($,"ajax"),t.loadDefault(),e=_.first($.ajax.calls.argsFor(0)),expect(e.type).toBe("get"),expect(e.url).toBe("data/tree")}),it("should parse result",function(){var e,t;return t=new r,spyOn($,"ajax"),spyOn(t,"parse"),t.loadDefault(),e=_.first($.ajax.calls.argsFor(0)),e.success(this._data),expect(t.parse).toHaveBeenCalledWith(this._data)})})})}),require.register("spec/tree_node",function(e,t,n){var r;r=t("../entities/tree_node"),describe("TreeNode",function(){return describe("#initialize",function(){return it("should generate id if not provided",function(){var e;return e=new r,expect(e.id).toBeTruthy()}),it("should not overwrite id if it's provided",function(){var e;return e=new r({id:1}),expect(e.id).toBe(1)}),it("should have children collection even if not provided",function(){var e;return e=new r,expect(e.get("children")instanceof Backbone.Collection).toBe(!0)}),it("should not overwrite children collection if it's provided",function(){var e,t;return e=new Backbone.Collection,t=new r({children:e}),expect(t.get("children")).toBe(e)})})})})